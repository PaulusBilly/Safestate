<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Safestate - My Properties</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="css/navigation.css">
    <link rel="stylesheet" href="css/searchbar.css">
    <link rel="stylesheet" href="css/properties.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="notification" class="notification hidden">
      <div class="notification-content">
        <i class="notification-icon"></i>
        <span class="notification-message"></span>
        <button class="notification-close">&times;</button>
      </div>
    </div>

    <div class="navigation">
        <div class="navBar">
          <div class="nav-left">
            <a href="marketplace.html">Marketplace</a>
            <a href="#" class="active">Properties</a>
          </div>
        
          <div class="nav-logo">
            <a href="index.html" class="logo">SAFESTATE</a>
          </div>
        
          <div class="nav-right">
            <a href="faq.html">FAQ</a>
            <div class="cta">
              <a href="account.html">Account</a>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="page-header">
      <div class="page-header-content">
        <h1>My Properties</h1>
        <p class="page-subtitle">Manage and view all your owned and rented properties</p>
        <div class="property-stats">
          <div class="stat-item">
            <span class="stat-number" id="ownedCount">0</span>
            <span class="stat-label">Owned</span>
          </div>
          <div class="stat-item">
            <span class="stat-number" id="rentedCount">0</span>
            <span class="stat-label">Rented</span>
          </div>
        </div>
      </div>
    </div>

    <div class="search-wrapper">
      <div class="icon-wrapper filter-icon">
        <i class="fa fa-filter toggle-filter"></i>
      </div>
      <input type="text" placeholder="Search your properties by name, location, or type" />
      <div class="icon-wrapper search-icon">
        <i class="fa fa-search"></i>
      </div>
      <hr style="width:1.2px; height:30px; background-color:rgb(166, 166, 166); border:none; margin:0 0.4rem;">
      <a href="favorites.html" class="icon-wrapper cart-icon">
        <i class="fas fa-heart"></i>
        <span class="cart-badge" id="favoriteCount">3</span>
      </a>
    </div>
    
    <!-- Main container for property sections -->
    <div id="properties-container">
      <!-- Property sections (owned and rented) will be inserted here by JavaScript -->
    </div>
    
    <div class="filter-panel">
        Browse more properties
        
        <select id="marketplacePrice">
          <option disabled selected>Price</option>
          <option value="low">Lowest</option>
          <option value="high">Highest</option>
        </select>
        
        <select id="marketplaceSize">
          <option disabled selected>Size</option>
          <option value="smallest">Smallest</option>
          <option value="largest">Largest</option>
        </select>
        
        <select id="marketplaceType">
          <option disabled selected>Type</option>
          <option value="apartment">Apartment</option>
          <option value="house">House</option>
          <option value="land">Land</option>
        </select>
        
        <select id="marketplaceRentBuy">
          <option disabled selected>Rent/Buy</option>
          <option value="rent">Rent</option>
          <option value="buy">Buy</option>
        </select>
        
        <hr style="width:1.2px; height:30px; background-color:rgb(166, 166, 166); border:none; margin:0 0.4rem;">
        
        <button class="apply-filter" onclick="redirectToMarketplace()">Browse Marketplace</button>
        </div>

<!-- Removed property overlay as it's no longer needed -->

</body>
<script src="js/auth.js"></script>
<script src="js/navbar.js"></script>
<script src="js/searchbar.js"></script>
<script src="js/data.js"></script>
<script src="js/favorites.js"></script>
<script src="js/user-properties.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', async () => {
    await updateFavoritesCount();
    
    const cartLinks = document.querySelectorAll('.cart-icon');
    cartLinks.forEach(cartLink => {
      if (cartLink) {
        cartLink.href = 'favorites.html';
      }
    });
  });
</script>
<script src="js/properties.js"></script>
</html>